<Window x:Class="PictionaryMusicalCliente.Solicitudes"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:language="clr-namespace:PictionaryMusicalCliente.Properties.Langs"
        xmlns:convertidores="clr-namespace:PictionaryMusicalCliente.Convertidores"
        Title="{x:Static language:Lang.globalTextoSolicitudes}" Height="450" Width="400"
        WindowStartupLocation="CenterScreen"
        AllowsTransparency="True" WindowStyle="None" Background="Transparent">
    <Window.Resources>
        <convertidores:ConvertidorBooleanoVisibilidad x:Key="ConvertidorVisibilidad" />
    </Window.Resources>
    <Grid>
        <Border Background="White" BorderBrush="Gray" BorderThickness="2"
                Padding="20" CornerRadius="3"
                HorizontalAlignment="Center" VerticalAlignment="Center" Width="380" Height="410">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition/>
                    <RowDefinition Height="Auto" MinHeight="127.98"/>
                </Grid.RowDefinitions>

                <TextBlock Grid.Row="0" Text="{x:Static language:Lang.globalTextoSolicitudes}" FontFamily="Comic Sans MS" FontSize="28" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,0,0,20" Width="202"/>

                <ListBox Margin="0,59,0,0" Grid.RowSpan="2" ItemsSource="{Binding Solicitudes}" BorderThickness="0" HorizontalContentAlignment="Stretch">
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <Grid Margin="0,5">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="{Binding NombreUsuario}" VerticalAlignment="Center" FontFamily="Comic Sans MS" FontSize="16"/>
                                <Button Grid.Column="1" Background="Transparent" BorderBrush="Transparent" Margin="10,0" Cursor="Hand"
                                        Visibility="{Binding PuedeAceptar, Converter={StaticResource ConvertidorVisibilidad}}"
                                        Command="{Binding DataContext.AceptarSolicitudComando, RelativeSource={RelativeSource AncestorType={x:Type Window}}}"
                                        CommandParameter="{Binding}">
                                    <Image Source="/Recursos/Aceptar.png" Width="24" Height="24"/>
                                </Button>
                                <Button Grid.Column="2" Background="Transparent" BorderBrush="Transparent" Cursor="Hand"
                                        Command="{Binding DataContext.RechazarSolicitudComando, RelativeSource={RelativeSource AncestorType={x:Type Window}}}"
                                        CommandParameter="{Binding}">
                                    <Image Source="/Recursos/Rechazar.png" Width="24" Height="24"/>
                                </Button>
                            </Grid>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>

                <Button Grid.Row="2" Content="{x:Static language:Lang.globalTextoRegresar}" Margin="0,86,0,0" FontFamily="Comic Sans MS" FontWeight="Bold" Background="White" BorderBrush="Black" Command="{Binding CerrarComando}"/>
            </Grid>
        </Border>
    </Grid>
</Window>
